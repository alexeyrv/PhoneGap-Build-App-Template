<!doctype html>
<html ng-app='myApp' manifest="manifest.appcache" lang="en"> 
	<head> 
        <title>APPLICATION NAME</title> 
        
        <!-- WEB SEARCH META TAGS -->
        <meta charset="utf-8">
        <meta name="app angular test" content="APPLICATION NAME" />
        <meta name="RA" content="AUTHOR NAME (@TWITTER)" />
        <meta name="description" content="APPLICATION DESCRIPTION" />
        <meta name="keywords" content="keywords,separated,by,commas" />
        <meta name="RA @ copyright" content="Â© 2013 AUTHOR" />
        <meta name="generator" content="AUTHOR" />
        <meta name="robots" content="index,follow,snippet,archive" />
        <meta name="revisit-after" content="7 days">
        

        <!-- SAFARI WEB APP META TAGS -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <!-- iOS FAVICONS -->
        <link rel="apple-touch-icon-precomposed" href="img/icons/favicons/icon57.png">
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="img/icons/favicons/icon57.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/icons/favicons/icon72.png">
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="img/icons/favicons/icon76.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/icons/favicons/icon114.png">
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="img/icons/favicons/icon120.png">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/icons/favicons/icon144.png">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="img/icons/favicons/icon152.png">

        <!-- OTHER FAVICONS -->
        <link rel="icon" sizes="16x16" type="image/vnd.microsoft.icon" href="img/icons/favicons/icon16.ico">
        <link rel="icon" sizes="16x16" type="image/png" href="img/icons/favicons/icon16.png">
        <link rel="icon" sizes="32x32" type="image/png" href="img/icons/favicons/icon32.png">
        <link rel="icon" sizes="64x64" type="image/png" href="img/icons/favicons/icon64.png">
        <link rel="icon" sizes="any" type="image/svg+xml" href="img/icons/favicons/icon.svg">

        <!-- iOS Splash Screens -->
        <!-- iPhone -->
        <link rel="apple-touch-startup-image" href="img/splash/ios/splash320x460.png" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)">
        <!-- iPhone (Retina) -->
        <link rel="apple-touch-startup-image" href="img/splash/ios/splash640x920.png" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)">
        <!-- iPhone 5 -->
        <link rel="apple-touch-startup-image" href="img/splash/ios/splash640x1096.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
        <!-- iPad -->
        <link rel="apple-touch-startup-image" href="img/splash/ios/splash768x1004.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)">
        <link rel="apple-touch-startup-image" href="img/splash/ios/splash748x1024.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)">
        <!-- iPad (Retina) -->
        <link rel="apple-touch-startup-image" href="img/splash/ios/splash1536x2008.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)">
        <link rel="apple-touch-startup-image" href="img/splash/ios/splash1496x2048.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)">
            
        <!-- ADD2HOME META TAGS -->
        <link rel="stylesheet" type="text/css" href="js/lib/add2home.css">
        <script type="application/javascript" src="js/lib/add2home.js"></script>

<!--        <script type="application/javascript" src="js/lib/add2home.js"></script> -->
        <script type="application/javascript" src="js/angular.min.js"></script>
    </head> 

    <body ng-controller='TextController'>
        
        <div id="main" style="bgcolor:grey">
		<h1>Angular test</h1> 
		<hr>
		<div id="app">


<p>{{someText.message}}
<input ng-model="someText.message">
</p>

<div style="border: 1px black solid; width:80%;">
</br>
<h3 align='center'> Task list </h3>

<table width='90%'>
<tr ng-repeat="task in tasks">
	<td width='30%'> "{{task.name}}" </td>
	<td>Type: {{task.type}} 
	<br>
	</td>
	<td>Do: {{task.runtime}} </td>
	<td>Minutes: {{task.duration}} </td>
	<td>Priority: {{task.priority}} </td>
	<td>Breakable: {{task.breakable}} </td>
	<td>Status: {{task.status}} </td>
	<td>From: {{task.startDt}} </td>
	<td>To: {{task.endDt}} </td>
	<td> <button ng-click='delete($index)'> Delete </button> </td>
</tr>
</table>

</br>
<p> Sum = {{sum}} </p>
<p> All time = {{alltime}} </p>
</div>

<table width='70%'>
<tr>
	<td width='30%'>Task <br> <input ng-model="newtask.name"> </td>
	<td>Type:  
		<select data-ng-options="o.name for o in options" 
		data-ng-model="selectedOption"></select>
	</td>
	<td>Do: <br> <input ng-model="newtask.runtime"> </td>
	<td>Minutes: <br> <input ng-model="newtask.duration"> </td>
</tr>
<tr>
	<td>Priority: <br> <input ng-model="newtask.priority"> </td>
	<td>Breakable: <br> <input ng-model="newtask.breakable"> </td>
	<td>Status: <br> <input ng-model="newtask.status"> </td>
</tr>
<tr>
	<td>From: <br> <input ng-model="newtask.startDt"> </td>
	<td>To: <br> <input ng-model="newtask.endDt"> </td>
	<td> <button ng-click='add()'> Add</button> </td>
</tr>
</table>

<!--
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.1/angular.min.js">
</script>
-->

<script	src="js/angular.min.js">
</script>
	

<script>

var myAppModule = angular.module('myApp', []);

myAppModule.controller('TextController',
	function($scope) {
	var someText = {};
	someText.message = 'You have started your journey.';
	$scope.someText = someText;

	$scope.options = [{ name: "call", id: 1 }, { name: "meeting", id: 2 }];
	$scope.selectedOption = $scope.options[0];

	$scope.sum = 100;
$scope.alltime = 1;

	$scope.sumitems = function(){
		$scope.sum = $scope.tasks.length;
// ????	
		$scope.alltime = 0;	
		for( var i=0; i<$scope.tasks.length; i++ ){
			$scope.alltime = +$scope.alltime + +$scope.tasks[i].duration;
			//alert( i+1 + " : " + $scope.tasks[i].duration )
		}
	}


	
	$scope.$watch( 'tasks.length', $scope.sumitems );

	$scope.delete = function( index ){
		$scope.tasks.splice( index, 1 );
	}


	$scope.add = function( ){
		//$scope.newtask.type = $scope.selectedOption.name;
		$scope.tasks.push( 
			{
			name : $scope.newtask.name,
			type : $scope.selectedOption.name,
			duration : $scope.newtask.duration,
			startDt : $scope.newtask.startDt,
			endDt : $scope.newtask.endDt,
			runtime : $scope.newtask.runtime,
			priority : $scope.newtask.priority,
			breakable : $scope.newtask.breakable,
			responsible : $scope.newtask.responsible,
			status : $scope.newtask.status 
			}
		)
	}


	var tasks = {};
//	tasks.contacts = {};

	tasks = [ 
	{ name:"1st task",
	type : "presentation",
	duration : 80,
	startDt : "2014-10-20 14:30",
	endDt : "2014-10-20 18:45",
	runtime : "any",
	priority : "medium",
	breakable : "no",
	responsible : "me",
	status : "in progress" },

	{ name:"2nd task",
	type : "call",
	duration : 30,
	startDt : "2014-10-22 11:30",
	endDt : "2014-10-24 18:45",
	runtime : "any",
	priority : "low",
	breakable : "no",
	responsible : "me",
	status : "in progress" }
	]

//	contacts.person = "Michael Kolov";
//	contacts.conpany = "upeco";

	$scope.tasks = tasks;

});
</script>

		</div>


	</div>
        
        <!-- SCRIPTS -->
        <script type="application/javascript" src="js/lib/jquery-2.0.3.js"></script>
    </body>
</html>
